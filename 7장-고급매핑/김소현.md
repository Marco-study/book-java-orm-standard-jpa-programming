# ê³ ê¸‰ ë§¤í•‘

## 7.1 ìƒì† ê´€ê³„ ë§¤í•‘

<aside>
ğŸ’¡ ê°ê°ì˜ í…Œì´ë¸”ë¡œ ë³€í™˜ | í†µí•© í…Œì´ë¸”ë¡œ ë³€í™˜ | ì„œë¸Œíƒ€ì… í…Œì´ë¸”ë¡œ ë³€í™˜

</aside>

### 7.1.1 ì¡°ì¸ ì „ëµ

<aside>
ğŸ’¡ ì—”í‹°í‹° ê°ê°ì„ ëª¨ë‘ í…Œì´ë¸”ë¡œ ë§Œë“¤ê³  ìì‹ í…Œì´ë¸”ì´ ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ë°›ì•„ì„œ ê¸°ë³¸ í‚¤ + ì™¸ë˜ í‚¤ë¡œ ì‚¬ìš©í•˜ëŠ” ì „ëµ (íƒ€ì…ì„ êµ¬ë¶„í•˜ëŠ” ì¹¼ëŸ¼ì„ ì¶”ê°€í•´ì•¼ í•¨)

</aside>

```java
@Entity
@Inheritance(strategy = InheritanceType.JOINED) // 1
@DiscriminatorColumn(name = "DTYPE") // 2
public abstract class Item {

	@Id @GeneratedValue
	@Column(name = "ITEM_ID")
	private Long id;

	private String name;
	private int price;

	...
}

@Entity
@DiscriminatorValue("A") // 3
public class Album extends Item {

	private String artist;

	...
}

@Entity
@DiscriminatorValue("M")
public class Movie extends Item {

	private String director;
	private String actor;

	...
}
```

`1` : ìƒì† ë§¤í•‘, ë§¤í•‘ ì „ëµ(ì¡°ì¸)

`2` : ë¶€ëª¨ í´ë˜ìŠ¤ì— êµ¬ë¶„ ì¹¼ëŸ¼ ì§€ì •, ê¸°ë³¸ ê°’ DTYPE

`3` : ì—”í‹°í‹°ë¥¼ ì €ì¥í•  ë•Œ êµ¬ë¶„ ì¹¼ëŸ¼ì— ì…ë ¥í•  ê°’ ì§€ì •, êµ¬ë¶„ ì¹¼ëŸ¼ DTYPEì€ A

```java
@Entity
@DiscriminatorValue("B")
@PrimaryKeyJoinColumn(name = "BOOK_ID") // ID ì¬ì •ì˜
public class Book extends Item {

	private String author;
	private String isbn;

	...
}
```

- Book í…Œì´ë¸”ì˜ ITEM_ID â†’ BOOK_ID ìœ¼ë¡œ ê¸°ë³¸ í‚¤ ì¹¼ëŸ¼ëª… ë³€ê²½

**ì¥ì **

- í…Œì´ë¸”ì´ ì •ê·œí™” ëœë‹¤.
- ì™¸ë˜ í‚¤ ì°¸ì¡° ë¬´ê²°ì„± ì œì•½ì¡°ê±´ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.
- ì €ì¥ê³µê°„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.

**ë‹¨ì **

- ì¡°íšŒí•  ë•Œ ì¡°ì¸ì´ ë§ì´ ì‚¬ìš©ë˜ë¯€ë¡œ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆë‹¤.
- ì¡°íšŒ ì¿¼ë¦¬ê°€ ë³µì¡í•˜ë‹¤.
- ë°ì´í„°ë¥¼ ë“±ë¡í•  ë•Œ INSERT SQL ì„ 2ë²ˆ ì‹¤í–‰í•œë‹¤.

### 7.1.2 ë‹¨ì¼ í…Œì´ë¸” ì „ëµ

<aside>
ğŸ’¡ í…Œì´ë¸”ì„ í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ê³ , êµ¬ë¶„ ì¹¼ëŸ¼ìœ¼ë¡œ ìì‹ í…Œì´ë¸”ì„ êµ¬ë¶„í•˜ëŠ” ì „ëµ

</aside>

```java
@Entity
@Inheritance(strategy = InheritanceType.SINGLE_TABLE)
@DiscriminatorColumn(name = "DTYPE")
public abstract class Item {

	@Id @GeneratedValue
	@Column(name = "ITEM_ID")
	private Long id;

	private String name;
	private int price;

	...
}

@Entity
@DiscriminatorValue("A")
public class Album extends Item { ... }

@Entity
@DiscriminatorValue("M")
public class Movie extends Item { ... }

@Entity
@DiscriminatorValue("B")
public class Book extends Item { ... }
```

- í…Œì´ë¸” í•˜ë‚˜ì— ëª¨ë“  ê²ƒì„ í†µí•©í•˜ê¸° ë•Œë¬¸ì— êµ¬ë¶„ ì¹¼ëŸ¼ í•„ìˆ˜ ì‚¬ìš©

**ì¥ì **

- ì¡°ì¸ì´ í•„ìš” ì—†ì–´ì„œ ì¼ë°˜ì ìœ¼ë¡œ ì¡°íšŒ ì„±ëŠ¥ì´ ë¹ ë¥´ë‹¤.
- ë‹¨ìˆœí•œ ì¡°íšŒ ì¿¼ë¦¬

**ë‹¨ì **

- ìì‹ ì—”í‹°í‹°ê°€ ë§¤í•‘í•œ ì¹¼ëŸ¼ì€ ëª¨ë‘ nullì„ í—ˆìš©í•´ì•¼ í•œë‹¤.
- ë‹¨ì¼ í…Œì´ë¸”ì— ëª¨ë“  ê²ƒì„ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— í…Œì´ë¸”ì´ ì»¤ì§ˆ ìˆ˜ ìˆë‹¤.
    
    â†’ ìƒí™©ì— ë”°ë¼ ì¡°íšŒ ì„±ëŠ¥ì´ ì˜¤íˆë ¤ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŒ
    

### 7.1.3 êµ¬í˜„ í´ë˜ìŠ¤ë§ˆë‹¤ í…Œì´ë¸” ì „ëµ (ì¼ë°˜ì ìœ¼ë¡œ ì¶”ì²œí•˜ì§€ ì•ŠëŠ” ì „ëµ)

<aside>
ğŸ’¡ ìì‹ ì—”í‹°í‹°ë§ˆë‹¤ í…Œì´ë¸”ì„ ë§Œë“¤ê³ , ìì‹ í…Œì´ë¸” ê°ê°ì— í•„ìš”í•œ ì¹¼ëŸ¼ì´ ëª¨ë‘ ìˆë‹¤.

</aside>

```java
@Entity
@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)
public abstract class Item {

	@Id @GeneratedValue
	@Column(name = "ITEM_ID")
	private Long id;

	private String name;
	private int price;

	...
}

@Entity
public class Album extends Item { ... }

@Entity
public class Movie extends Item { ... }

@Entity
public class Book extends Item { ... }
```

**ì¥ì **

- ì„œë¸Œ íƒ€ì…ì„ êµ¬ë¶„í•´ì„œ ì²˜ë¦¬í•  ë•Œ íš¨ê³¼ì ì´ë‹¤.
- not null ì œì•½ì¡°ê±´ ì‚¬ìš© ê°€ëŠ¥

**ë‹¨ì **

- ì—¬ëŸ¬ ìì‹ í…Œì´ë¸”ê³¼ í•¨ê»˜ ì¡°íšŒí•  ë•Œ ì„±ëŠ¥ì´ ëŠë¦¬ë‹¤. (SQL UNION ì‚¬ìš©)
- ìì‹ í…Œì´ë¸”ì„ í†µí•©í•´ì„œ ì¿¼ë¦¬í•˜ê¸° ì–´ë µë‹¤.

---

## 7.2 @MappedSuperclass

<aside>
ğŸ’¡ ë¶€ëª¨ í´ë˜ìŠ¤ëŠ” í…Œì´ë¸”ê³¼ ë§¤í•‘í•˜ì§€ ì•Šê³  ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìƒì† ë°›ëŠ” ìì‹ í´ë˜ìŠ¤ì—ê²Œ ë§¤í•‘ ì •ë³´ë§Œ ì œê³µí•œë‹¤.

</aside>

```java
@MappedSuperclass
public abstract class BaseEntity {

	@Id @GeneratedValue
	private Long id;
	private String name;

	...
}

@Entity
public class Member extends BaseEntity {

	// ID ìƒì†
	// NAME ìƒì†

	private String email;

	...
}

@Entity
public class Seller extends BaseEntity {

	// ID ìƒì†
	// NAME ìƒì†

	private String shopName;

	...
}
```

```java
@Entity
@AttributeOverrides({
	@AttributeOverride(name = "id", column = @Column(name = "MEMEBER_ID")),
	@AttributeOverride(name = "name", column = @Column(name = "MEMBER_NAME"))
})
public class Member extends BaseEntity { ... }
```

ë¶€ëª¨ì—ê²Œ ìƒì† ë°›ì€ ì¹¼ëŸ¼ëª…ì„ ì¬ì •ì˜ í•  ìˆ˜ ìˆë‹¤.

---

## 7.3 ë³µí•© í‚¤ì™€ ì‹ë³„ ê´€ê³„ ë§¤í•‘

### 7.3.1 ì‹ë³„ ê´€ê³„ VS ë¹„ì‹ë³„ ê´€ê³„

`ì‹ë³„ ê´€ê³„`

: ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ë‚´ë ¤ë°›ì•„ì„œ ìì‹ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ + ì™¸ë˜ í‚¤ë¡œ ì‚¬ìš©í•˜ëŠ” ê´€ê³„

`ë¹„ì‹ë³„ ê´€ê³„`

: ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ë°›ì•„ì„œ ìì‹ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ë¡œë§Œ ì‚¬ìš©í•˜ëŠ” ê´€ê³„

`í•„ìˆ˜ì  ë¹„ì‹ë³„ ê´€ê³„` : ì™¸ë˜ í‚¤ì— NULL í—ˆìš© X, ì—°ê´€ê´€ê³„ í•„ìˆ˜ì 

`ì„ íƒì  ë¹„ì‹ë³„ ê´€ê³„` : ì™¸ë˜ í‚¤ì— NULL í—ˆìš©, ì—°ê´€ê´€ê³„ ì„ íƒ (ì£¼ë¡œ ì‚¬ìš©)

### 7.3.2 ë³µí•© í‚¤: ë¹„ì‹ë³„ ê´€ê³„ ë§¤í•‘

```java
@Entity
public class Hello {
	@Id
	private String id1;
	@Id
	private String id2; // ì˜¤ë¥˜ ë°œìƒ
}
```

ë‘˜ ì´ìƒì˜ ì‹ë³„ìë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë³„ë„ì˜ ì‹ë³„ì í´ë˜ìŠ¤ê°€ í•„ìš”í•˜ë‹¤.

`@IdClass`

```java
@Entity
@IdClass(ParentId.class)
public class Parent {

	@Id
	@Column(name = "PARENT_ID1")
	private String id1; // ParentId.id1

	@Id
	@Column(name = "PARENT_ID2")
	private String id2; // ParentId.id2

	private String name;

	...
}
```

```java
public class ParentId implements Serializable { // ì‹ë³„ì í´ë˜

	private String id1;
	private String id2;

	public ParentId() {
	}

	public ParentId(String id1, String id2) {
		this.id1 = id1;
		this.id2 = id2;
	}

	@Override
	public boolean equals(Object o) { ... }

	@Override
	public int hashCode() { ... }
}
```

- ì‹ë³„ì í´ë˜ìŠ¤ì˜ ì†ì„±ëª…ê³¼ ì—”í‹°í‹°ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì‹ë³„ìì˜ ì†ì„±ëª…ì´ ê°™ì•„ì•¼ í•œë‹¤.
- Serializable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.
- ê¸°ë³¸ ìƒì„±ìê°€ ìˆì–´ì•¼ í•œë‹¤.
- public ì´ì–´ì•¼ í•œë‹¤.

```java
@Entity
public class Child {

	@Id
	private String id;

	@ManyToOne
	@JoinColumns({
		@JoinColumn(name = "PARENT_ID1", referencedColumnName = "PARENT_ID1"),
		@JoinColumn(name = "PARNET_ID2", referencedColumnName = "PARENT_ID2")
	})
	private Parent parent;
```

- ì™¸ë˜ í‚¤ ë§¤í•‘ ì‹œ ì—¬ëŸ¬ ì¹¼ëŸ¼ì„ ë§¤í•‘ í•´ì•¼ í•œë‹¤. â†’ @JoinColumns , @JoinColumn ìœ¼ë¡œ ë§¤í•‘
- name ì†ì„±ê³¼ referencedColumnName ì†ì„± ê°’ì´ ê°™ìœ¼ë©´, referencedColumnName ìƒëµ ê°€ëŠ¥

`@EmbeddedId`

```java
@Entity
public class Parent {

	@EmbeddedId
	private ParentId id;

	private String name;

	...
}
```

ì‹ë³„ì í´ë˜ìŠ¤ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©

```java
@Embeddable
public class ParentId implements Serializable {

	@Column(name = "PARENT_ID1")
	private String id1;

	@Column(name = "PARENT_ID2")
	private String id2;

	// equals and hashCode êµ¬í˜„

	...
}
```

ì‹ë³„ì í´ë˜ìŠ¤ì— ê¸°ë³¸ í‚¤ë¥¼ ì§ì ‘ ë§¤í•‘

- @Embeddable ì–´ë…¸í…Œì´ì…˜ ì‚¬ìš©
- Serializable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
- equals, hashCode êµ¬í˜„
- ê¸°ë³¸ ìƒì„±ìê°€ ìˆì–´ì•¼ í•¨
- public

`ë³µí•© í‚¤ì™€ equals(), hashCode()`

ìë°”ì˜ ëª¨ë“  í´ë˜ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ ì°¸ì¡° ê°’ìœ¼ë¡œ ë¹„êµí•˜ê¸° ë•Œë¬¸ì— eqaulsì™€ hashCode êµ¬í˜„ í•„ìš”

### 7.3.3 ë³µí•© í‚¤: ì‹ë³„ ê´€ê³„ ë§¤í•‘

- **@IdClassì™€ ì‹ë³„ ê´€ê³„**
    
    ```java
    @Id
    @ManyToOne
    @JoinColumn(name = "PARNET_ID")
    public Parent parent;
    ```
    
    ì‹ë³„ì ë§¤í•‘ì¸ `@Id`ì™€ ì—°ê´€ê´€ê³„ ë§¤í•‘ì¸ `@ManyToOne` ì„ ê°™ì´ ì‚¬ìš©í•œë‹¤.
    
    â†’ ê¸°ë³¸ í‚¤ë¥¼ ë§¤í•‘í•˜ë©´ì„œ ì™¸ë˜ í‚¤ë¥¼ ê°™ì´ ë§¤í•‘
    
- **@EmbeddedIdì™€ ì‹ë³„ ê´€ê³„**
    
    ```java
    @MapsId("parentId")
    @ManyToOne
    @JoinColumn(name = "PARENT_ID")
    public Parent parent;
    ```
    
    `@MapsId` : ì™¸ë˜ í‚¤ì™€ ë§¤í•‘í•œ ì—°ê´€ê´€ê³„ë¥¼ ê¸°ë³¸ í‚¤ì—ë„ ë§¤í•‘
    
    â†’ ì‹ë³„ì í´ë˜ìŠ¤ì˜ ê¸°ë³¸ í‚¤ í•„ë“œ ì €ì¥
    

### 7.3.4 ë¹„ì‹ë³„ ê´€ê³„ë¡œ êµ¬í˜„

ë³µí•© í‚¤ í´ë˜ìŠ¤ ì—†ì´ ì–´ë…¸í…Œì´ì…˜(`@ManyToOne` `JoinColumn`)ì„ ì‚¬ìš©í•˜ì—¬ ë§¤í•‘

### 7.3.5 ì¼ëŒ€ì¼ ì‹ë³„ ê´€ê³„

<aside>
ğŸ’¡ ìì‹ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ê°’ìœ¼ë¡œ ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ê°’ë§Œ ì‚¬ìš©

</aside>

```java
@Entity
public class Board {

	@Id @GeneratedValue
	@Column(name = "BOARD_ID")
	private Long id;

	private String title;

	@OneToOne(mappedBy = "board")
	private BoardDetail boardDetail;

	...
}

@Entity
public class BoardDetail {

	@Id
	private Long boardId;

	@MapsId
	@OneToOne
	@JoinColumn(name="BOARD_ID")
	private Board board;

	private String content;

	...
}
```

ì‹ë³„ìê°€ í•˜ë‚˜ì¸ ê²½ìš°, `@MapsId` ë¥¼ ì‚¬ìš©í•˜ê³  ì†ì„± ê°’ì€ ë¹„ì›Œë‘”ë‹¤.

### 7.3.6 ì‹ë³„, ë¹„ì‹ë³„ ê´€ê³„ì˜ ì¥ë‹¨ì 

- ì‹ë³„ ê´€ê³„ëŠ” ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ìì‹ í…Œì´ë¸”ë¡œ ì „íŒŒí•˜ë©´ì„œ ìì‹ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ì¹¼ëŸ¼ì´ ì¦ê°€í•œë‹¤.
- ì‹ë³„ ê´€ê³„ëŠ” 2ê°œ ì´ìƒì˜ ì¹¼ëŸ¼ì„ í•©í•´ì„œ ë³µí•© ê¸°ë³¸ í‚¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.
- ì‹ë³„ ê´€ê³„ë¥¼ ì‚¬ìš©í•  ë•Œ ê¸°ë³¸ í‚¤ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë¯¸ê°€ ìˆëŠ” ìì—° í‚¤ ì¹¼ëŸ¼ì„ ì¡°í•©í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. (ë³€ë™ì— ë¶ˆë¦¬)
- ë¹„ì‹ë³„ ê´€ê³„ë³´ë‹¤ í…Œì´ë¸” êµ¬ì¡°ê°€ ìœ ì—°í•˜ì§€ ëª»í•˜ë‹¤. (ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ê¸°ë³¸ í‚¤ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—)
- ë³µí•© í‚¤ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, í•˜ë‚˜ì˜ ê¸°ë³¸ í‚¤ë¥¼ ë§¤í•‘í•˜ëŠ” ê²ƒë³´ë‹¤ ë§ì€ ë…¸ë ¥ì´ í•„ìš”í•˜ë‹¤.
- ë¹„ì‹ë³„ ê´€ê³„ëŠ” ëŒ€ë¦¬ í‚¤ë¡œ í¸ë¦¬í•œ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

---

## 7.4 ì¡°ì¸ í…Œì´ë¸”

<aside>
ğŸ’¡ **ì¡°ì¸ ì¹¼ëŸ¼ ì‚¬ìš© (ì™¸ë˜ í‚¤)**
ì™¸ë˜ í‚¤ ì¹¼ëŸ¼ì„ ì‚¬ìš©í•´ì„œ ê´€ë¦¬í•œë‹¤.

</aside>

<aside>
ğŸ’¡ **ì¡°ì¸ í…Œì´ë¸” ì‚¬ìš© (í…Œì´ë¸” ì‚¬ìš©)**
ì¡°ì¸ í…Œì´ë¸”ì„ ì‚¬ìš©í•´ì„œ ì—°ê´€ê´€ê³„ë¥¼ ê´€ë¦¬í•œë‹¤.

</aside>

ê¸°ë³¸ì ìœ¼ë¡œ ì¡°ì¸ ì¹¼ëŸ¼ì„ ì‚¬ìš©í•˜ê³ , í•„ìš”í•˜ë‹¤ë©´ ì¡°ì¸ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤.

### 7.4.1 ì¼ëŒ€ì¼ ì¡°ì¸ í…Œì´ë¸”

```java
@Entity
public class Parent {

	@Id @GeneratedBalue
	@Column(name = "PARENT_ID")
	private Long id;
	private String name;

	@OneToOne
	@JoinTable(name = "PARENT_CHILD",
		joinColumns = @JoinColumn(name = "PARENT_ID"),
		inverseJoinColumns = @JoinColumn(name = "CHILD_ID")
	)
	private Child child;

	...
}

@Entity
public class Child {

	@Id @GeneratedValue
	@Column(name = "CHILD_ID")
	private Long id;
	private String name;

	// ì–‘ë°©í–¥ ë§¤í•‘
	@OneToOne(mappedBy="child")
	private Parent parent;
	
	...
}
```

`name` : ë§¤í•‘í•  ì¡°ì¸ í…Œì´ë¸” ì´ë¦„

`joinColumns` : í˜„ì¬ ì—”í‹°í‹°ë¥¼ ì°¸ì¡°í•˜ëŠ” ì™¸ë˜ í‚¤

`inverseJoinColumns` : ë°˜ëŒ€ ë°©í–¥ ì—”í‹°í‹°ë¥¼ ì°¸ì¡°í•˜ëŠ” ì™¸ë˜ í‚¤

### 7.4.2 ì¼ëŒ€ë‹¤ ì¡°ì¸ í…Œì´ë¸”

```java
@Entity
public class Parent {

	@Id @GeneratedBalue
	@Column(name = "PARENT_ID")
	private Long id;
	private String name;

	@OneToMany
	@JoinTable(name = "PARENT_CHILD",
		joinColumns = @JoinColumn(name = "PARENT_ID"),
		inverseJoinColumns = @JoinColumn(name = "CHILD_ID")
	)
	private List<Child> child = new ArrayList<Child>();

	...
}

@Entity
public class Child {

	@Id @GeneratedValue
	@Column(name = "CHILD_ID")
	private Long id;
	private String name;
	
	...
}
```

### 7.4.3 ë‹¤ëŒ€ì¼ ì¡°ì¸ í…Œì´ë¸”

```java
@Entity
public class Parent {

	@Id @GeneratedBalue
	@Column(name = "PARENT_ID")
	private Long id;
	private String name;

	@OneToMany(mappedBy = "parent")
	private List<Child> child = new ArrayList<Child>();

	...
}

@Entity
public class Child {

	@Id @GeneratedValue
	@Column(name = "CHILD_ID")
	private Long id;
	private String name;

	@ManyToOne(optional = false)
	@JoinTable(name = "PARENT_CHILD",
		joinColumns = @JoinColumn(name = "CHILD_ID"),
		inverseJoinColumns = @JoinColumn(name = "PARENT_ID")
	)
	private Parent parent;
	
	...
}
```

### 7.4.4 ë‹¤ëŒ€ë‹¤ ì¡°ì¸ í…Œì´ë¸”

```java
@Entity
public class Parent {

	@Id @GeneratedBalue
	@Column(name = "PARENT_ID")
	private Long id;
	private String name;

	@ManyToMany
	@JoinTable(name = "PARENT_CHILD",
		joinColumns = @JoinColumn(name = "PARENT_ID"),
		inverseJoinColumns = @JoinColumn(name = "CHILD_ID")
	)
	private List<Child> child = new ArrayList<Child>();

	...
}

@Entity
public class Child {

	@Id @GeneratedValue
	@Column(name = "CHILD_ID")
	private Long id;
	private String name;
	
	...
}
```

---

## 7.5 ì—”í‹°í‹° í•˜ë‚˜ì— ì—¬ëŸ¬ í…Œì´ë¸” ë§¤í•‘

```java
@Entity
@Table(name="BOARD")
@SecondaryTable(name = "BOARD_DETAIL",
	pkJoinColumns = @PrimaryKeyJoinColumn(name = "BOARD_DETAIL_ID"))
public class Board {

	@Id @GeneratedValue
	@Column(name = "BOARD_ID")
	private Long id;

	private String title;

	@Column(table = "BOARD_DETAIL")
	private String content;

	...
}
```

`@SecondaryTable` : ì¶”ê°€ í…Œì´ë¸” ë§¤í•‘

â†’ `name` : ë§¤í•‘í•  ë‹¤ë¥¸ í…Œì´ë¸”ì˜ ì´ë¦„

â†’ `pkJoinColumns`: ë§¤í•‘í•  ë‹¤ë¥¸ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ì¹¼ëŸ¼ ì†ì„±
